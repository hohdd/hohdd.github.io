<!DOCTYPE html><html lang="vi"><title>Unity - Microgame - KartingMicrogame</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Unity - Microgame - KartingMicrogame"><meta name="author" content="Dong Ho"> <META NAME="ROBOTS" CONTENT="noindex, nofollow, noarchive, nosnippet, noimageindex"><link rel="manifest" href="/assets/manifest.json"><meta name="theme-color" content="#317EFB"/><link href="/assets/css/main.css" rel="stylesheet" media="all"><link rel="stylesheet" href="/assets/css/delay.css" media="none" onload="if(media!='all')media='all'"> <noscript><link rel="stylesheet" href="/assets/css/delay.css"></noscript><link href="/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" /><link rel="shortcut icon" type="image/png" href="/assets/img/favicon.png"><body onload="_documentReady_()"><nav class="w3-sidebar w3-black w3-animate-opacity w3-xxlarge z-index-999" style="display:none;padding-top:100px;top:0px;" id="menuElm"><div class="w3-bar-block w3-center"><h1 class="w3-bar-item w3-button w3-text-grey w3-hover-black"> <a href="/pages/about" title="About">About</a></h1><h1 class="w3-bar-item w3-button w3-text-grey w3-hover-black"> <a href="/pages/authors" title="Teams">Teams</a></h1><h1 class="w3-bar-item w3-button w3-text-grey w3-hover-black"> <a href="/pages/categories" title="Archives">Archives</a></h1><h1 class="w3-bar-item w3-button w3-text-grey w3-hover-black"> <a href="/collections" title="Collections">Collections</a></h1><h1 class="w3-bar-item w3-button w3-text-grey w3-hover-black"> <a href="/pages/tools" title="Tools">Tools</a></h1></div></nav><div class="w3-top z-index-9999 w3-white" id="navbar"><div class="w3-bar w3-padding w3-card opacity-transition-hover w3-display-container" style="letter-spacing:4px;"><div class="w3-display-left w3-padding w3-hide-small"> <img id="hat" src="/assets/img/kmw/hat63.png"> <a href="/" class="w3-bar-item">Mr.Winter</a></div><div class="w3-display-middle w3-hide-small"></div><div class="w3-right" > <span class="material-icons w3-button" id="menuIcon" onclick="toggleMenu()" title="Menu">menu</span></div></div></div><div class="w3-content w3-panel w3-animate-opacity-slow" style="max-width:1100px"><main><div class="w3-padding-32"></div><article id="articleBody"><h2>Unity - Microgame - KartingMicrogame</h2><span class="opacity-transition-hover"> <span class="author"> <a href="/authors/dongho" class="hvr-float-shadow">Dong Ho</a> </span> <time datetime="2020-05-15T14:26:14+07:00" class="by-line">15 May 2020 <span> <a href="/collections/game-development#Uncategorized" class="hvr-float-shadow">Uncategorized</a> </span> </time> <span title="reading time">· about 4 mins read </span> </span><div class="w3-section konamiHide"><div id="search-container"> <label> <span class="dh-unnecessary">Tìm kiếm</span> <input type="text" id="search-input" placeholder="Hoặc tìm bài viết khác..." class="w3-margin-top"> </label><div id="results-container" class="w3-card"></div></div></div><div class="w3-section konamiHide"><div class="content-speech"><ul class="toc-nav dh-black-8 w3-animate-opacity dh-padding-right-1em"><li class="toc-entry toc-h2"><a href="#giải-thích" spy-toc="Giải thích">Giải thích</a><ul><li class="toc-entry toc-h3"><a href="#namespace" spy-toc="namespace">namespace</a><li class="toc-entry toc-h3"><a href="#quản-lý-việc-chọn-các-đối-tượng-giao-diện-người-dùng-trên-menu-bằng-cách-sử-dụng-con-trỏ-chuột-hoặc-bàn-phím" spy-toc="Quản lý việc chọn các đối tượng giao diện người dùng trên menu, bằng cách sử dụng con trỏ chuột hoặc bàn phím.">Quản lý việc chọn các đối tượng giao diện người dùng trên menu, bằng cách sử dụng con trỏ chuột hoặc bàn phím.</a><li class="toc-entry toc-h3"><a href="#hệ-thống-lái" spy-toc="Hệ thống lái">Hệ thống lái</a></ul><li class="toc-entry toc-h2"><a href="#note" spy-toc="Note">Note</a><li class="toc-entry toc-h2"><a href="#mod" spy-toc="Mod">Mod</a></ul><h2 id="giải-thích"> <a class="anchor" href="#gi%E1%BA%A3i-th%C3%ADch" aria-hidden="true" spy-title="Giải thích"><span class="octicon octicon-link"></span></a>Giải thích</h2><h3 id="namespace"> <a class="anchor" href="#namespace" aria-hidden="true" spy-title="namespace"><span class="octicon octicon-link"></span></a>namespace</h3><p>• UnityEngine: Chứa các lớp và phương thức cơ bản của Unity, như GameObject, Transform, Mesh, Material, và nhiều hơn nữa.<p>• UnityEngine.<strong>ProBuilder</strong>: Chứa các lớp và phương thức của ProBuilder, một công cụ để tạo và chỉnh sửa các hình học trong Unity, như ProBuilderMesh, Face, Vertex, và nhiều hơn nữa.<p>• UnityEngine.<strong>Rendering</strong>: Chứa các lớp và phương thức liên quan đến quá trình hiển thị đồ họa trong Unity, như ShadowCastingMode, MotionVectorGenerationMode, IndexFormat, và nhiều hơn nữa.<p>• using UnityEngine.<strong>SceneManagement</strong>;: Sử dụng không gian tên UnityEngine.SceneManagement, chứa các lớp và phương thức liên quan đến quản lý các cảnh trong Unity.<h3 id="quản-lý-việc-chọn-các-đối-tượng-giao-diện-người-dùng-trên-menu-bằng-cách-sử-dụng-con-trỏ-chuột-hoặc-bàn-phím"> <a class="anchor" href="#qu%E1%BA%A3n-l%C3%BD-vi%E1%BB%87c-ch%E1%BB%8Dn-c%C3%A1c-%C4%91%E1%BB%91i-t%C6%B0%E1%BB%A3ng-giao-di%E1%BB%87n-ng%C6%B0%E1%BB%9Di-d%C3%B9ng-tr%C3%AAn-menu-b%E1%BA%B1ng-c%C3%A1ch-s%E1%BB%AD-d%E1%BB%A5ng-con-tr%E1%BB%8F-chu%E1%BB%99t-ho%E1%BA%B7c-b%C3%A0n-ph%C3%ADm" aria-hidden="true" spy-title="Quản lý việc chọn các đối tượng giao diện người dùng trên menu, bằng cách sử dụng con trỏ chuột hoặc bàn phím."><span class="octicon octicon-link"></span></a>Quản lý việc chọn các đối tượng giao diện người dùng trên menu, bằng cách sử dụng con trỏ chuột hoặc bàn phím.</h3><p>• public <strong>Selectable</strong> defaultSelection;: Khai báo một trường công khai có kiểu Selectable. Trường này có thể được thiết lập trong Editor (Inspector) để chỉ định đối tượng mặc định được chọn khi mở menu.<p>• <strong>Cursor.lockState</strong> = CursorLockMode.None;: Đặt trạng thái khóa của con trỏ chuột thành None, có nghĩa là con trỏ chuột không bị giới hạn trong một khu vực.<p>• <strong>Cursor.visible</strong> = true;: Đặt thuộc tính visible của con trỏ chuột thành true, có nghĩa là con trỏ chuột sẽ hiển thị trên màn hình.<p>• <strong>EventSystem.current</strong>.SetSelectedGameObject(null);: Đặt đối tượng được chọn hiện tại của hệ thống sự kiện thành null, có nghĩa là không có đối tượng nào được chọn. Hệ thống sự kiện là một thành phần quản lý các sự kiện giao diện người dùng.<p>• <strong>SceneManager.LoadSceneAsync</strong>(SceneName);: Gọi phương thức LoadSceneAsync của lớp SceneManager, truyền vào trường SceneName làm tham số. Phương thức này sẽ nạp cảnh có tên được chỉ định một cách bất đồng bộ, có nghĩa là không làm đứng trò chơi trong khi nạp cảnh.<h3 id="hệ-thống-lái"> <a class="anchor" href="#h%E1%BB%87-th%E1%BB%91ng-l%C3%A1i" aria-hidden="true" spy-title="Hệ thống lái"><span class="octicon octicon-link"></span></a>Hệ thống lái</h3><p>• steeringSmoother = <strong>Mathf.Lerp</strong>(steeringSmoother, Kart.Input.TurnInput, Time.deltaTime * 5f);: Phương thức này sẽ trả về một giá trị nằm giữa hai giá trị đầu tiên, theo tỷ lệ của tham số thứ ba.<p>• Phương thức này có thể dùng để tạo ra hiệu ứng chuyển màu mượt mà giữa hai màu<br><div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">static</span> <span class="n">Color</span> <span class="nf">Lerp</span><span class="p">(</span><span class="n">Color</span> <span class="n">a</span><span class="p">,</span> <span class="n">Color</span> <span class="n">b</span><span class="p">,</span> <span class="kt">float</span> <span class="n">t</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">t</span> <span class="p">=</span> <span class="n">Mathf</span><span class="p">.</span><span class="nf">Clamp01</span><span class="p">(</span><span class="n">t</span><span class="p">);</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nf">Color</span><span class="p">(</span>
        <span class="n">a</span><span class="p">.</span><span class="n">r</span> <span class="p">+</span> <span class="p">(</span><span class="n">b</span><span class="p">.</span><span class="n">r</span> <span class="p">-</span> <span class="n">a</span><span class="p">.</span><span class="n">r</span><span class="p">)</span> <span class="p">*</span> <span class="n">t</span><span class="p">,</span>
        <span class="n">a</span><span class="p">.</span><span class="n">g</span> <span class="p">+</span> <span class="p">(</span><span class="n">b</span><span class="p">.</span><span class="n">g</span> <span class="p">-</span> <span class="n">a</span><span class="p">.</span><span class="n">g</span><span class="p">)</span> <span class="p">*</span> <span class="n">t</span><span class="p">,</span>
        <span class="n">a</span><span class="p">.</span><span class="n">b</span> <span class="p">+</span> <span class="p">(</span><span class="n">b</span><span class="p">.</span><span class="n">b</span> <span class="p">-</span> <span class="n">a</span><span class="p">.</span><span class="n">b</span><span class="p">)</span> <span class="p">*</span> <span class="n">t</span><span class="p">,</span>
        <span class="n">a</span><span class="p">.</span><span class="n">a</span> <span class="p">+</span> <span class="p">(</span><span class="n">b</span><span class="p">.</span><span class="n">a</span> <span class="p">-</span> <span class="n">a</span><span class="p">.</span><span class="n">a</span><span class="p">)</span> <span class="p">*</span> <span class="n">t</span>
    <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div><p>• Đoạn mã này có thể dùng để tạo ra hiệu ứng chuyển động mượt mà giữa hai vị trí<br><div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="nf">MethodImpl</span><span class="p">(</span><span class="n">MethodImplOptionsEx</span><span class="p">.</span><span class="n">AggressiveInlining</span><span class="p">)]</span> <span class="c1">// báo cho trình biên dịch rằng nên thực hiện inline cho phương thức này. Inline là một kỹ thuật tối ưu hóa mã, giúp giảm thời gian thực thi bằng cách thay thế lời gọi phương thức bằng nội dung của phương thức</span>
<span class="k">public</span> <span class="k">static</span> <span class="n">Vector3</span> <span class="nf">Lerp</span><span class="p">(</span><span class="n">Vector3</span> <span class="n">a</span><span class="p">,</span> <span class="n">Vector3</span> <span class="n">b</span><span class="p">,</span> <span class="kt">float</span> <span class="n">t</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">t</span> <span class="p">=</span> <span class="n">Mathf</span><span class="p">.</span><span class="nf">Clamp01</span><span class="p">(</span><span class="n">t</span><span class="p">);</span>
    <span class="k">return</span> <span class="k">new</span> <span class="nf">Vector3</span><span class="p">(</span>
        <span class="n">a</span><span class="p">.</span><span class="n">x</span> <span class="p">+</span> <span class="p">(</span><span class="n">b</span><span class="p">.</span><span class="n">x</span> <span class="p">-</span> <span class="n">a</span><span class="p">.</span><span class="n">x</span><span class="p">)</span> <span class="p">*</span> <span class="n">t</span><span class="p">,</span>
        <span class="n">a</span><span class="p">.</span><span class="n">y</span> <span class="p">+</span> <span class="p">(</span><span class="n">b</span><span class="p">.</span><span class="n">y</span> <span class="p">-</span> <span class="n">a</span><span class="p">.</span><span class="n">y</span><span class="p">)</span> <span class="p">*</span> <span class="n">t</span><span class="p">,</span>
        <span class="n">a</span><span class="p">.</span><span class="n">z</span> <span class="p">+</span> <span class="p">(</span><span class="n">b</span><span class="p">.</span><span class="n">z</span> <span class="p">-</span> <span class="n">a</span><span class="p">.</span><span class="n">z</span><span class="p">)</span> <span class="p">*</span> <span class="n">t</span>
    <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div><h2 id="note"> <a class="anchor" href="#note" aria-hidden="true" spy-title="Note"><span class="octicon octicon-link"></span></a>Note</h2><ul><li>Tách riêng hệ thống input thành Interface (KartClassic_Player &gt; Script: KeyboardInput):<ul><li>Tạo 1 file “BaseInput.cs”: có “struct InputData” () + “interface IInput” + “abstract class <strong>BaseInput</strong> : <strong>MonoBehaviour</strong>, IInput”<li>Tạo class <strong>KeyboardInput</strong> extend <strong>BaseInput</strong> có hàm <strong>override InputData GenerateInput()</strong> trả về value Input của game</ul></ul><h2 id="mod"> <a class="anchor" href="#mod" aria-hidden="true" spy-title="Mod"><span class="octicon octicon-link"></span></a>Mod</h2><p><a href="https://learn.unity.com/project/karting-template" class="hvr-forward external" rel="nofollow" target="_blank">Karting Template</a></div></div></article><div class="w3-padding-16"></div><div class="opacity-transition-hover konamiHide"><h5>Xem thêm các bài viết khác cùng chủ đề</h5><ul class="w3-ul"> <a href="/collections/game-development/game-development-overview" class="hvr-forward"><li><span></span>Overview · 2 mins read </a> <a href="/collections/game-development/unity-getting-start" class="hvr-forward"><li><span></span>Unity Getting Start - làm việc với Unity Editor (Interface) · 31 mins read </a><li><span></span>→ Unity - Microgame - KartingMicrogame · 4 mins read</ul></div><script src="/assets/js/search-custom.min.js" type="text/javascript"></script> <script> (function() { JSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('results-container'), json: '/search/search-collections.json' }) })(); </script><div id="qModal" class="w3-modal"><div class="w3-modal-content"><div class="w3-container"> <span onclick="document.getElementById('qModal').style.display='none'" class="w3-button w3-display-topright">&times;</span><div><p id="qModalSentenceEmpty" class="w3-panel"><hr><p id="qModalSentencePice" class="w3-panel"><p id="qModalAnswerMsg" class="w3-panel" style="display: none;"><span class="w3-red">Không đúng rôi! thử lại đi...</span><hr><p class="w3-panel"> <button class="material-icons w3-btn w3-border" id="qModalAudioControlEl" onclick="qModalAudioControlPlay()" title="Play the sound">play_arrow</button> <button class="material-icons w3-btn w3-border" id="qModalResetQuizEl" onclick="qModalResetQuiz()" title="Reset the quiz">cached</button> <button class="material-icons w3-btn w3-border" id="qModalGiveUpAndShowAnswerEl" onclick="qModalGiveUpAndShowAnswer()" title="Give up...">close</button> <button class="w3-btn w3-white w3-border" onclick="clearFormTextArea()" title="Clear the textarea">Clear</button><p id="qModalSentenceTypeArea" class="w3-panel"> <textarea id="sentenceTypeAreaId" style="margin: 0px;width: 100%;height: 99px;" onkeyup="qModalTxtAreaOnkeyup()"></textarea></div><div id="qModalTotoList" class="w3-container"><ul id="myUL"><li onclick="onClickTodoList(this)">1. Làm quiz hoàn thành câu<li onclick="onClickTodoList(this)">2. Nghe Audio và nhại theo 3 lần<li onclick="onClickTodoList(this)">3. Tự nói lại mà không nghe Audio và nhìn vào chữ đúng 3 lần<li onclick="onClickTodoList(this)">4. Gõ lại câu đến khi chính xác<li onclick="onClickTodoList(this)">5. Phân tích cú pháp và lấy ví dụ tương tự (thay các từ loại, chủ ngữ, nếu là câu hỏi thì trả lời câu hỏi)</ul></div><div class="w3-panel"></div></div></div></div><style> #qModalTotoList ul { list-style: none; margin: 0; padding: 0; } /* Style the list items */ #qModalTotoList ul li { cursor: pointer; position: relative; padding: 12px 8px 12px 40px; background: #eee; font-size: 18px; transition: 0.2s; /* make the list items unselectable */ -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; } /* Set all odd list items to a different color (zebra-stripes) */ #qModalTotoList ul li:nth-child(odd) { background: #f9f9f9; } /* Darker background-color on hover */ #qModalTotoList ul li:hover { background: #ddd; } /* When clicked on, add a background color and strike out text */ #qModalTotoList ul li.checked { background: #888; color: #fff; text-decoration: line-through; } /* Add a "checked" mark when clicked on */ #qModalTotoList ul li.checked::before { content: ''; position: absolute; border-color: #fff; border-style: solid; border-width: 0 2px 2px 0; top: 10px; left: 16px; transform: rotate(45deg); height: 15px; width: 7px; } /* Style the close button */ #qModalTotoList .close { position: absolute; right: 0; top: 0; padding: 12px 16px 12px 16px; } #qModalTotoList .close:hover { background-color: #f44336; color: white; }</style><script> /* toggle 'checked' class on Todo list */ function onClickTodoList(thisVar) { thisVar.classList.toggle('checked'); } /* Create a "close" button and append it to each list item */ function appendCloseButton() { var myNodelist = document.getElementsByTagName("LI"); var i; for (i = 0; i < myNodelist.length; i++) { var span = document.createElement("SPAN"); var txt = document.createTextNode("\u00D7"); span.className = "close"; span.appendChild(txt); myNodelist[i].appendChild(span); } } /* Click on a close button to hide the current list item */ function addOnclickToCloseButton() { var close = document.getElementsByClassName("close"); var i; for (i = 0; i < close.length; i++) { close[i].onclick = function () { var div = this.parentElement; div.style.display = "none"; } } } /* Add a "checked" symbol when clicking on a list item */ function addEventClickOnList() { var list = document.querySelector('ul'); list.addEventListener('click', function (ev) { if (ev.target.tagName === 'LI') { ev.target.classList.toggle('checked'); } }, false); } /* Create a new list item when clicking on the "Add" button */ function newElement() { var li = document.createElement("li"); var inputValue = document.getElementById("myInput").value; var t = document.createTextNode(inputValue); li.appendChild(t); if (inputValue === '') { alert("You must write something!"); } else { document.getElementById("myUL").appendChild(li); } document.getElementById("myInput").value = ""; var span = document.createElement("SPAN"); var txt = document.createTextNode("\u00D7"); span.className = "close"; span.appendChild(txt); li.appendChild(span); for (i = 0; i < close.length; i++) { close[i].onclick = function () { var div = this.parentElement; div.style.display = "none"; } } } </script></main><div id="tocMenu" class="tocMenu" onclick="toggleTOC()"><div class="progress-bar" id="progressBar"></div><div title="Table Of Content" class="w3-btn w3-border w3-border-blue w3-white"> Outline</div></div><div id="audioControlGroup" class="w3-animate-opacity"><p> <span class="material-icons w3-button w3-border w3-border-blue" onclick="audioControlMinus()" title="Minus">history</span> <span class="material-icons w3-button w3-border w3-border-blue" onclick="resetCurrentAudio()" title="Reset">cached</span><p> <span class="material-icons w3-button w3-border w3-border-blue" id="audioControlEl" onclick="audioControlPlayOrPause()" title="Play/Pause">play_arrow</span> <span class="material-icons w3-button w3-border w3-border-blue" onclick="onClickGotoCurrentAudio()" title="Go to Current Audio">arrow_right_alt</span><p> <span class="material-icons w3-button w3-border w3-border-blue" onclick="audioControlPlus()" title="Plus">update</span> <span class="material-icons w3-button w3-border w3-border-blue" onclick="skipCurrentAudioAndNext()" title="Next">skip_next</span><p> <span class="material-icons w3-button w3-border w3-border-blue" onclick="openMemo()" title="Your Note">create</span> <span class="material-icons w3-button w3-border w3-border-blue" onclick="onClickShowAudioControl()" title="Hide Audio Control">close</span><p> <span class="material-icons w3-button w3-border w3-border-blue" onclick="openAudioSettings()" title="Audio Settings">settings</span> <span class="material-icons w3-button w3-border w3-border-blue" onclick="gotoBottom()" title="Go to bottom">arrow_downward</span></div><link rel="stylesheet" href="/assets/css/quill.1.3.6.snow.css" media="none" onload="if(media!='all')media='all'"> <noscript><link rel="stylesheet" href="/assets/css/quill.1.3.6.snow.css"></noscript><div id="quillNote" class="w3-modal"><div class="w3-modal-content w3-card-4 w3-animate-top" style="max-width:600px"><header class="w3-container light-grey"> <span onclick="document.getElementById('quillNote').style.display='none'" class="w3-button w3-hover-red w3-xlarge w3-display-topright">&times;</span><h2>Memo</h2></header><div class="w3-container w3-section"><div id="quillNoteEditor"></div></div><div class="w3-container w3-light-grey w3-padding"> <button class="w3-button w3-right w3-white w3-border" onclick="onNoteSave()">Save</button></div></div></div><script src="/assets/js/quill.1.3.6.js" type="text/javascript" async></script> <script type="text/javascript"> function openMemo() { try { document.getElementById('audioSettings').style.display='none'; } catch (error) { console.log(error); } toggleElmDisplay(document.getElementById('quillNote')); } function onNoteSave() { const pathKey = window.location.pathname; window.localStorage.setItem(pathKey, window.quillEditor.getHTML()); document.getElementById('quillNote').style.display = 'none'; } function loadMemo() { const pathKey = window.location.pathname; const memo = window.localStorage.getItem(pathKey); if (memo) { window.quillEditor.setHTML(memo); } } </script> <button onclick="topFunction()" title="Go to Top" id="scrollTopBtn" class="w3-btn w3-border w3-border-blue w3-white">Top</button><div id="zoomModal" class="w3-modal w3-center w3-animate-opacity" onclick="this.style.display='none'"> <img class="w3-modal-content w3-mobile w3-animate-zoom" style="width: 100%;" id="imgModal"></div><script type="text/javascript"> function openAudioControl() { } </script><footer class="w3-center w3-padding-16 dh-clear"></footer><div id="snackbar">...</div></div><div id="modalUnderMaintenance" class="w3-modal"> <span class="w3-button w3-hover-red w3-xlarge w3-display-topright" onclick="document.getElementById('modalUnderMaintenance').style.display='none'">&times;</span><div class="w3-modal-content w3-animate-zoom"> <img src="/assets/img/articles/demo/helloworld4.jpg" style="width:100%"><h2 class="w3-padding w3-display-middle w3-white" onclick="document.getElementById('modalUnderMaintenance').style.display='none'">Under Maintenance</h2></div></div><script src="/assets/js/quote-api.js" type="text/javascript" async></script> <script src="/assets/js/custom.js" type="text/javascript" async></script> <script src="/assets/js/custom_test.js" type="text/javascript" async></script> <script src="/assets/js/qmodal.js" type="text/javascript" async></script><link href="/assets/css/tango-highlight.css" rel="stylesheet" media="all">
